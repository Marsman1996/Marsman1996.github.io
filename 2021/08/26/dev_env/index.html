<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="This blog is used to record my study process"><title>终端环境配置 (oh-my-zsh) | Marsman1996's blog</title><link rel="stylesheet" type="text/css" href="/css/normalize.css"><link rel="stylesheet" type="text/css" href="/css/highlight.css"><link rel="stylesheet" type="text/css" href="/css/very-simple.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><meta name="generator" content="Hexo 5.4.0"></head><body><!-- include the sidebar--><!-- include ./includes/sidebar.jade--><!-- Blog title and subtitle--><header><div class="container header"><a id="logo" href="/." class="title">Marsman1996's blog</a><br><span class="subtitle">一小股火星军, 两小股火星军, 三小股火星军~</span><label id="toggle-menu" for="menu" onclick><i class="fa fa-bars"></i></label></div></header><!-- use checkbox hack for toggle nav-bar on small screens--><input id="menu" type="checkbox"><!-- Navigation Links--><nav id="nav"><div class="container"><a href="/" class="sidebar-nav-item active">Home</a><a href="/archives" class="sidebar-nav-item">Archives</a></div></nav><div id="header-margin-bar"></div><!-- gallery that comes before the header--><div class="wrapper"><div class="container post-header"><h1>终端环境配置 (oh-my-zsh)</h1></div></div><div class="wrapper"><div class="container meta"><div class="post-time">2021-08-26</div><div class="post-categories"><a class="post-category-link" href="/categories/%E9%9A%8F%E7%AC%94/">随笔</a></div><div class="post-tags"><a class="post-tag-none-link" href="/tags/DevEnv/" rel="tag">DevEnv</a></div></div></div><article><div class="container post"><p>这篇文章记录我对开发环境: 终端的配置. 主要是 oh-my-zsh (for *nix) 和 oh-my-posh (for Windows). </p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录<!-- omit in toc --></h2><ul>
<li><a href="#oh-my-zsh">oh-my-zsh</a><ul>
<li><a href="#oh-my-zsh-%E5%AE%89%E8%A3%85">oh-my-zsh 安装</a></li>
<li><a href="#%E4%B8%BB%E9%A2%98%E5%AE%89%E8%A3%85">主题安装</a></li>
<li><a href="#%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85">插件安装</a></li>
</ul>
</li>
<li><a href="#oh-my-posh">oh-my-posh</a></li>
<li><a href="#%E7%BB%88%E7%AB%AF%E9%85%8D%E8%89%B2%E8%AE%BE%E7%BD%AE">终端配色设置</a><ul>
<li><a href="#windows-terminal">Windows Terminal</a></li>
</ul>
</li>
</ul>
<h2 id="oh-my-zsh"><a href="#oh-my-zsh" class="headerlink" title="oh-my-zsh"></a>oh-my-zsh</h2><img src="dev_env/wsl.png" />  

<h3 id="oh-my-zsh-安装"><a href="#oh-my-zsh-安装" class="headerlink" title="oh-my-zsh 安装"></a>oh-my-zsh 安装</h3><p>oh-my-zsh 算是 zsh 的一个配置管理工具, 有很多终端主题或者工具是基于它开发的.</p>
<ol>
<li>安装 zsh<br> <code>$ sudo apt install zsh</code></li>
<li>安装 oh-my-zsh<br><code>$ sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;</code></li>
<li>更改你的默认 shell<br><code>chsh -s /bin/zsh</code></li>
</ol>
<h3 id="主题安装"><a href="#主题安装" class="headerlink" title="主题安装"></a>主题安装</h3><p>接下来就可以安装好看的主题了, 这里以 <a target="_blank" rel="noopener" href="https://github.com/romkatv/powerlevel10k">powerlevel10k</a> 为例:</p>
<ol>
<li><p>安装对应字体, p10k 有很多特殊字符, 需要 <a target="_blank" rel="noopener" href="https://github.com/ryanoasis/nerd-fonts/">Nerd Font</a> 对现有字体进行处理插入符号 (比较复杂). 也可以在它的官网下载<a target="_blank" rel="noopener" href="https://www.nerdfonts.com/font-downloads">预处理好的字体</a>. 这里推荐 <a target="_blank" rel="noopener" href="https://github.com/ryanoasis/nerd-fonts/releases/download/v2.1.0/JetBrainsMono.zip">JetBrainMono Nerd Font</a>, 它是基于 JetBrain 官方字体插入符号得到的. 下载下来是一个 zip 压缩包, 解压后找到</p>
<ul>
<li>JetBrains Mono Bold Italic Nerd Font Complete.ttf  </li>
<li>JetBrains Mono Bold Nerd Font Complete.ttf</li>
<li>JetBrains Mono Italic Nerd Font Complete.ttf</li>
<li>JetBrains Mono Regular Nerd Font Complete.ttf  </li>
</ul>
<p> 这四个字体进行安装. Windows 和 MacOS 字体安装过程都很简单, Linux 稍微复杂些.</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir /usr/share/fonts/jetfonts</span><br><span class="line">$ cd /usr/share/fonts/jetfonts</span><br><span class="line">$ mkfontscale</span><br><span class="line">$ mkfontdir</span><br><span class="line">$ fc-cache -fv</span><br></pre></td></tr></table></figure></li>
<li><p>设置刚才安装的字体  </p>
<ul>
<li>vscode 下在配置文件中增加<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;editor.fontFamily&quot;: &quot;JetBrainsMono Nerd Font, &#x27;Courier New&#x27;, monospace&quot;,</span><br><span class="line">&quot;editor.fontLigatures&quot;: true</span><br></pre></td></tr></table></figure></li>
<li>Windows Terminal 在配置文件中, default 项下增加<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;fontFace&quot;: &quot;JetBrainsMono Nerd Font&quot;,</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>安装 p10k  </p>
 <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> --depth=1 https://github.com/romkatv/powerlevel10k.git ~/powerlevel10k</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">&#x27;source ~/powerlevel10k/powerlevel10k.zsh-theme&#x27;</span> &gt;&gt;~/.zshrc</span></span><br></pre></td></tr></table></figure></li>
<li><p>配置p10k, p10k 提供了自动配置指南, 运行 <code>p10k configure</code> 即可. 或者从之前的<code>~/.p10k.zsh</code>中恢复.</p>
</li>
</ol>
<h3 id="插件安装"><a href="#插件安装" class="headerlink" title="插件安装"></a>插件安装</h3><p>oh-my-zsh 还有许多功能强大的小插件, 像是命令补全和命令高亮等.</p>
<ol>
<li>安装命令补全<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com.cnpmjs.org/zsh-users/zsh-autosuggestions $ZSH_CUSTOM/plugins/zsh-autosuggestions</span><br></pre></td></tr></table></figure></li>
<li>安装命令高亮<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com.cnpmjs.org/zsh-users/zsh-syntax-highlighting.git $&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;/plugins/zsh-syntax-highlighting</span><br></pre></td></tr></table></figure></li>
<li></li>
</ol>
<p>执行以上命令后在<code>~/.zshrc</code>中修改添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plugins=(</span><br><span class="line">  git</span><br><span class="line">  zsh-autosuggestions</span><br><span class="line">  zsh-syntax-highlighting</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h2 id="oh-my-posh"><a href="#oh-my-posh" class="headerlink" title="oh-my-posh"></a>oh-my-posh</h2><img src="dev_env/posh.png" />  
oh-my-posh 是 Windows 下类似 oh-my-zsh 的 powershell 插件. (但是装好以后启动powershell变得特别慢...)

<ol>
<li>安装 oh-my-posh 和 posh-git<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ Install-Module -Name oh-my-posh -Scope CurrentUser</span><br><span class="line">$ Install-Module posh-git -Scope CurrentUser</span><br></pre></td></tr></table></figure></li>
<li>配置 powershell 加载配置 <code>$ code $PROFILE</code><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Import-Module posh-git</span><br><span class="line">Import-Module oh-my-posh</span><br><span class="line">Set-PoshPrompt -Theme iterm2</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="终端配色设置"><a href="#终端配色设置" class="headerlink" title="终端配色设置"></a>终端配色设置</h2><p>配置颜色为 <a target="_blank" rel="noopener" href="https://draculatheme.com/">Dracula</a>.</p>
<h3 id="Windows-Terminal"><a href="#Windows-Terminal" class="headerlink" title="Windows Terminal"></a>Windows Terminal</h3><p>在 Windows Terminal设置中配置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&quot;profiles&quot;: &#123;</span><br><span class="line">    &quot;defaults&quot;: &#123;</span><br><span class="line">        &quot;colorScheme&quot; : &quot;Dracula&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&quot;schemes&quot;: [</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;name&quot;: &quot;Dracula&quot;,</span><br><span class="line">        &quot;cursorColor&quot;: &quot;#F8F8F2&quot;,</span><br><span class="line">        &quot;selectionBackground&quot;: &quot;#44475A&quot;,</span><br><span class="line">        &quot;background&quot;: &quot;#282A36&quot;,</span><br><span class="line">        &quot;foreground&quot;: &quot;#F8F8F2&quot;,</span><br><span class="line">        &quot;black&quot;: &quot;#21222C&quot;,</span><br><span class="line">        &quot;blue&quot;: &quot;#BD93F9&quot;,</span><br><span class="line">        &quot;cyan&quot;: &quot;#8BE9FD&quot;,</span><br><span class="line">        &quot;green&quot;: &quot;#50FA7B&quot;,</span><br><span class="line">        &quot;purple&quot;: &quot;#FF79C6&quot;,</span><br><span class="line">        &quot;red&quot;: &quot;#FF5555&quot;,</span><br><span class="line">        &quot;white&quot;: &quot;#F8F8F2&quot;,</span><br><span class="line">        &quot;yellow&quot;: &quot;#F1FA8C&quot;,</span><br><span class="line">        &quot;brightBlack&quot;: &quot;#6272A4&quot;,</span><br><span class="line">        &quot;brightBlue&quot;: &quot;#D6ACFF&quot;,</span><br><span class="line">        &quot;brightCyan&quot;: &quot;#A4FFFF&quot;,</span><br><span class="line">        &quot;brightGreen&quot;: &quot;#69FF94&quot;,</span><br><span class="line">        &quot;brightPurple&quot;: &quot;#FF92DF&quot;,</span><br><span class="line">        &quot;brightRed&quot;: &quot;#FF6E6E&quot;,</span><br><span class="line">        &quot;brightWhite&quot;: &quot;#FFFFFF&quot;,</span><br><span class="line">        &quot;brightYellow&quot;: &quot;#FFFFA5&quot;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</div><!-- comment system--><div class="container"><hr><div class="comment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src="//cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script>
<script type="text/javascript">
var leancloud_appid = 'gE27hCFSwgLvpzCHoSBfhQvw-gzGzoHsz';
var leancloud_appkey = 'zMPlPQ3u72NBSzC6PxM0cqKq';
var valine_url = 'http://example.com/2021/08/26/dev_env/';
var valine_notify = true;
var valine_verify = true;
var valine_placeholder = '吱一声嘛~ヾﾉ≧∀≦)o';
new Valine({
         av: AV, // source from av-min.js
         el: '.comment' ,
         notify: valine_notify,
         verify: valine_verify,
         app_id: leancloud_appid,
         app_key: leancloud_appkey,
         placeholder: valine_placeholder,
         path: valine_url
     });
</script></div></article><footer id="footer"><div class="container"><div class="bar"><div class="social"><a href="mailto:lqliuyuwei@outlook.com" target="_blank"><i class="fa fa-envelope-o"></i></a><a href="https://github.com/Marsman1996" target="_blank"><i class="fa fa-github"></i></a></div><div class="footer">© 2021 <a href="/" rel="nofollow">Marsman1996</a>. Powered by <a rel="nofollow" target="_blank" href="https://hexo.io">Hexo</a>. Theme <a target="_blank" href="https://github.com/lotabout/very-simple">very-simple</a>.</div></div></div></footer><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.css"><script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script><script src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js"></script><script>$(document).ready(function() {
    $(".fancybox").fancybox();
});
</script></body><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
e=o.createElement(i);r=o.getElementsByTagName(i)[0];
e.src='//www.google-analytics.com/analytics.js';
r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
ga('create','UA-129024647-1');ga('send','pageview');</script></html>